<form id="apartment-form">
  <label for="beds">How many beds?</label>
  <select id="beds" name="beds" required>
    <option value="">--Select Beds--</option>
    <option value="1">1 Bed</option>
    <option value="2">2 Beds</option>
    <option value="3">3 Beds</option>
    <option value="4">4 Beds</option>
    <option value="5">5 Beds</option>
    <option value="6">6 Beds</option>
  </select>

  <label for="baths">How many baths?</label>
  <select id="baths" name="baths" required>
    <option value="">--Select Baths--</option>
    <option value="1">1 Bath</option>
    <option value="1.5">1.5 Baths</option>
    <option value="2">2 Baths</option>
    <option value="2.5">2.5 Baths</option>
    <option value="3">3 Baths</option>
    <option value="4">4 Baths</option>
  </select>

  <label for="budget-min">Monthly Budget Range ($/month)</label>
  <div class="range-container">
    <input type="number" id="budget-min" name="budget-min" placeholder="Min" min="400" step="50" required />
    <input type="number" id="budget-max" name="budget-max" placeholder="Max" max="2500" step="50" required />
  </div>

  <label for="major">Major</label>
  <select id="major" name="major" required>
    <option value="">--Select Major--</option>
    <option value="MEEN">MEEN</option>
    <option value="CHEM">CHEM</option>
    <option value="CSCE">CSCE</option>
  </select>

  <label for="transport-mode">Transportation Mode</label>
  <select id="transport-mode" name="transport-mode" required>
    <option value="">--Select--</option>
    <option value="walking">Walking</option>
    <option value="car">Car</option>
    <option value="bus">Bus</option>
    <option value="bike">Bike</option>
  </select>

  <button type="submit">Find My Match</button>
</form>

<script>
document.getElementById("apartment-form").addEventListener("submit", function(event) {
  event.preventDefault();

  // Collect form data
  const beds = document.getElementById("beds").value;
  const baths = document.getElementById("baths").value;
  const budgetMin = document.getElementById("budget-min").value;
  const budgetMax = document.getElementById("budget-max").value;
  const major = document.getElementById("major").value;
  const transportMode = document.getElementById("transport-mode").value;

  // Store preferences in sessionStorage
  sessionStorage.setItem("userPreferences", JSON.stringify({
    beds,
    baths,
    budgetMin,
    budgetMax,
    major,
    transportMode
  }));

  // Redirect to the map page
  window.location.href = "map.html";
});
</script>
